!function(Util){Util.tryGetGoogleIframe=function(){try{if(window.top.iframe||window.top.document&&window.top.adUnitBase){var e=window.top.adUnitBase?window.top.adUnitBase.replace(/\/(.+)\//,"")+".inread.article":"",t=window.top.iframe||window.top.document.getElementById("google_ads_iframe_"+window.top.adUnitBase+"/"+e+window.top.ADUNIT_PATH_PATTREN.replace(/%adUnit%/g,e).replace(/section./g,"section")+"_0");return t}}catch(i){return!1}},Util.loadJSFile=function(e,t,i,r){if(e!==!1){var n=document.createElement("script");n.src=e,n.async=t,n.onreadystatechange=n.onload=function(){var e=n.readyState;!r||r.done||e&&!/loaded|complete/.test(e)||(r.done=!0,r())},i.getElementsByTagName("body")[0].appendChild(n)}else r&&r()},Util.hmsToSecondsOnly=function(e){for(var t=e.split(":"),i=0,r=1;t.length>0;)i+=r*parseInt(t.pop(),10),r*=60;return i},Util.isHTML5VideoSupported=function(){var e=!1,t=document.createElement("video");return void 0!=t.canPlayType&&(e=!0),e},Util.isVideoFormatMP4Supported=function(){return document.createElement("video").canPlayType("video/mp4").length>0},Util.isScrolledIntoView=function(e,t,i){if(null!=e){var r=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom,s=(e.clientHeight,t/2);return r>=0&&r+s<=(i||window).innerHeight||n-s>0&&t>n-s}return!1},Util.mergeJson=function(e,t){var i={};for(var r in e)i[r]=e[r];for(var r in t)i[r]=t[r];return i},Util.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},Util.getJSONP=function(e,t){var i="_"+ +new Date,r=document.createElement("script"),n=document.getElementsByTagName("head")[0]||document.documentElement;window[i]=function(e){n.removeChild(r),t(e)},e.indexOf("?")>-1?e=e.replace("?","?callback="+i+"&"):e+="?callback="+i,r.src=e,n.appendChild(r)},Util.setScriptsVersion=function(e,t){if(e.indexOf("/v"+t+"/")>-1)return e;var i=e.split("/").filter(function(e){return e.length>0}),r=i.splice(i.indexOf("scripts")+1);return"/"+i.join("/")+"/v"+t+"/"+r.join("/")},Util.viewabilityTest=function(){if(this.widgetObj?!this.widgetObj.preview:!this.preview){var e=null,t=function(){window.removeEventListener("scroll",i,!1),Util.loadJSFile(Util.setPixel.call(this,"vw"),!0,document)}.bind(this),i=function(){var r=document.getElementById(this.iframeId||this.placementId),n=Util.isScrolledIntoView(r,this.widgetObj?this.widgetObj.height:this.height);n?e||(e=setTimeout(t,1e3)):(e=clearTimeout(e),"floater"==(this.widgetObj?this.widgetObj.widget_type:this.widget_type)&&setTimeout(i,100))}.bind(this);window.addEventListener("scroll",i,!1),i()}},Util.doWidgetCallback=function(callbackType){this.callbacks[callbackType]&&eval(this.callbacks[callbackType])},Util.isMobile=function(){return navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)},Util.setPixel=function(e){var t=this.widgetObj||this;return t.preview?"#":t.pixels&&t.pixels[e]?t.pixelPath+"?e="+t.pixels[e]:t.pixelPath+"?e="};var messagePrefix="truvid:";Util.sendMessage=function(e,t,i,r,n){e.postMessage(messagePrefix+JSON.stringify({ad_id:t,source:i,message:r,value:n}),"*")},Util.receiveMessage=function(e){return e&&"string"==typeof e&&e.startsWith(messagePrefix)?JSON.parse(e.substring(messagePrefix.length)):!1},Util.setDummy=function(e,t,i,r,n){if(!document.getElementById(e+"_dummy")){var s=document.createElement("img");s.src=i+(400>r||300>n?"300X250":"640X480")+".jpg",s.style.width=r+"px",s.style.height=n+"px",s.style.top="0px",s.style.left="0px",s.style.display="none",s.id=e+"_dummy",t.parentNode.insertBefore(s,t)}},Util.setWidgetFqCookie=function(e,t){for(var i=new Date,r=new Date(i.getFullYear()+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+("0"+i.getDate()).slice(-2)+" 16:59:59:999 EST"),n=document.cookie.split(";"),s="truvid_widget_fq_"+(this.isMobile()?"mobile":"desktop")+"_sid"+e+"_wid"+t,a=!1,o=0;o<n.length;o++){var c=n[o].trim();if(c.startsWith(s)){var l=c.split("="),d=parseInt(l[1]);document.cookie=l[0]+"="+ ++d+"; expires="+r+"; path=/",a=!0;break}}a||(document.cookie=s+99999999*Math.random()+"=1; expires="+r+"; path=/")},Util.promisePoster=function(e){return new Promise(function(t){var i=new Image;i.onload=function(){t(e)},i.onerror=function(){t(e.replace("_2","_1"))},i.src=e})},Util.getIdealPlacement=function(e){var t=function(r,n,s){if(s.characters=0,s.score=0,s.children_score=0,s.is_large_object=!1,i(r)&&(3==r.nodeType||this.defaults.article_scores.texts.indexOf(r.nodeName.toLowerCase())>-1))s.characters=i(r).replace(/\s+/g," ").length;else if(r==n.document.body||1==r.nodeType&&this.defaults.article_scores.nodes[r.nodeName.toLowerCase()]){for(var a=r.childNodes,o=0,c=0,l=r.getBoundingClientRect().width,d=0;d<a.length;d++){var u=t(a[d],n,s);o+=u.characters,c+=u.score,s.is_large_object|=u.is_large_object||l>=this.defaults.article_scores.large_object_width}s.score=o,s.children_score=c}var h=this.defaults.article_scores.nodes[r.nodeName.toLowerCase()]||0;if(s.children_score>(e||this.defaults.article_scores.min_characters)&&s.is_large_object){for(var m=r.classList,f=1,g=1,d=0;d<m.length;d++)f+=this.defaults.article_scores.bonus.classes[m[d]]||0;for(var p in this.defaults.article_scores.bonus.attributes){var _=r.getAttribute(p);void 0!==_&&this.defaults.article_scores.bonus.attributes[p].value===_&&(g+=this.defaults.article_scores.bonus.attributes[p].bonus||0)}var w=s.children_score*f*g*h;w>s.article.score&&(s.article.score=w,s.article.node=r)}return s}.bind(this),i=function(e){return e.textContent||e.innerText||e.nodeValue},r=function(e){for(var t=["p","div"],i=[],r=0;r<t.length&&(i=e.getElementsByTagName(t[r]),i.length<=0);r++);return n(i)}.bind(this),n=function(t){for(var i=0;i<t.length;i++){var n=t[i].getBoundingClientRect().height;if(n>this.defaults.article_scores.min_paragraph_height*((e||this.defaults.article_scores.min_characters)/this.defaults.article_scores.min_characters)){if(n>this.defaults.article_scores.max_paragraph_height*((e||this.defaults.article_scores.min_characters)/this.defaults.article_scores.min_characters)){var s=r(t[i]);if(s)return s}return t[i]}}return null}.bind(this),s=function(){return{characters:0,score:0,children_score:0,is_large_object:0,article:{score:0,node:null}}},a=function(){for(var e=document.getElementsByTagName("table"),i=s(),r=0;r<e.length;r++){var n=t(e[r],window,s());n.article.score>i.article.score&&n.is_large_object&&(i.article.score=n.article.score,i.article.node=e[r],i.is_large_object=!0)}return i}.bind(this),o=t(window.document.body,window,s());if(o.article.score>this.defaults.article_scores.min_article_score&&o.article.node)return r(o.article.node);var c=a();return c.article.score>Math.min(5*e,this.defaults.article_scores.min_article_score)&&c.is_large_object?c.article.node:null},Util.defaults={daily_mobile_floater_per_user:3,minimum_seconds_to_skip:5,max_inread_ads:1,article_scores:{nodes:{article:20,div:10,section:5,p:4,form:4,em:3,span:2,main:2,strong:2,b:1,i:1,u:1,table:1,tdoby:1,tr:1,thead:1,td:1},texts:["em","span","strong","b","i","u","td"],bonus:{classes:{"ob-text":6,contentuArticle:6,article:4,"ob-section-html":4},attributes:{itemprop:{value:"articleBody",bonus:1e3}}},large_object_width:200,min_characters:300,min_paragraph_height:100,min_article_score:5e3,max_paragraph_height:1e3}}}(window.br_util=window.br_util||{}),String.prototype.startsWith||(String.prototype.startsWith=function(e){return!this.indexOf(e)});